# Konfiguracja algorytmu genetycznego dla samochodów

# Parametry okna
window:
  width: 1200
  height: 800
  fps: 60

# Parametry samochodu
car:
  width: 20
  height: 35
  max_speed: 10
  acceleration: 0.3
  friction: 0.95
  rotation_speed: 5
  sensor_range: 200
  num_sensors: 6  # 5 z przodu + 1 z tyłu
  action_threshold: 0.3  # Próg aktywacji akcji (output > threshold)
  initial_speed: 1.0  # Początkowa prędkość (ułatwia start)
  
  # Wiatr
  wind_strength: 0.3  # Maksymalna siła wiatru
  wind_change_rate: 0.05  # Jak szybko zmienia się kierunek wiatru (0-1)
  wind_side_strength: 0.2  # Siła wiatru bocznego
  
  # Degradacja opon
  tire_degradation_rate: 0.0001  # Jak szybko degradują się opony (zmniejszono 8x)
  base_tire_grip: 1.0  # Początkowa przyczepność opon
  min_tire_grip: 0.7  # Minimalna przyczepność (zwiększono z 0.5)
  
  # Paliwo
  fuel_capacity: 400  # Pojemność paliwa (zwiększono 4x dla większej mapy)
  fuel_base_consumption: 0.02  # Stały pobór (zmniejszono z 0.03)
  fuel_speed_factor: 0.005  # Pobór zależny od prędkości (zmniejszono z 0.008)
  fuel_effect_on_speed: 0.9  # Jak bardzo brak paliwa wpływa na prędkość (zwiększono z 0.8)

# Parametry sieci neuronowej
neural_network:
  input_size: 7  # Liczba czujników + kierunek do checkpointu
  hidden_layers: [3]  # Start z jedną warstwą - GA będzie ewoluować
  output_size: 4  # Lewo, Prawo, Przyspieszenie, Hamowanie

# Parametry algorytmu genetycznego
genetic_algorithm:
  population_size: 100
  generations: 200
  mutation_rate: 0.3  # Wyższa szansa mutacji
  mutation_strength: 0.4  # Mniejsza siła aby lepiej eksplorować
  crossover_rate: 0.7
  elite_size: 10  # Liczba najlepszych osobników zachowanych bez zmian
  tournament_size: 3
  use_multiprocessing: true  # Włącz wielowątkowość
  num_workers: 0  # Liczba procesów (0 = auto - użyj wszystkich rdzeni CPU)

# Parametry fitness
fitness:
  checkpoint_reward: 100  # Punkty za przejście checkpointu
  distance_weight: 0.2  # Zmniejszono wagę dystansu (zapobiega kręceniu się w kółko)
  time_penalty: 0.1  # Kara za czas
  crash_penalty: -50  # Kara za zderzenie
  max_time: 30  # Maksymalny czas startowy w sekundach
  checkpoint_time_bonus: 5  # Dodatkowy czas za każdy checkpoint (sekundy)
  absolute_max_time: 120  # Absolutny maksymalny czas (2 minuty)
  network_complexity_penalty: 0.0001  # Kara za złożoność sieci (liczba parametrów)

# Parametry treningowe
training:
  save_interval: 10  # Co ile generacji zapisywać model
  show_best: true  # Pokazywać najlepszego osobnika
  show_sensors: true  # Pokazywać czujniki
  parallel_simulation: false  # Symulacja równoległa (szybsza, ale bez wizualizacji)
  visualize_interval: 50  # Co ile generacji pokazywać wizualizację (0 = wyłącz)
  fast_mode: false  # Tryb szybki - brak wizualizacji, maksymalna prędkość

# Parametry edytora torów
track_editor:
  grid_size: 20
  wall_width: 10
  checkpoint_width: 5
